(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-92aae4a8"],{"2c05":function(e,t,a){"use strict";a("ca31")},6669:function(e,t,a){"use strict";a.r(t);var o=a("7a23");const l=e=>(Object(o["pushScopeId"])("data-v-57080df4"),e=e(),Object(o["popScopeId"])(),e),c={class:"grid"},d={class:"col-12"},n={class:"card"},i=l(()=>Object(o["createElementVNode"])("h5",null,"Row Expand",-1)),r={class:"flex justify-content-between flex-column sm:flex-row"},s={class:"p-input-icon-left mb-2"},b=l(()=>Object(o["createElementVNode"])("i",{class:"pi pi-search"},null,-1)),p=Object(o["createTextVNode"])(" No data products found. "),j=Object(o["createTextVNode"])(" Loading data products. Please wait. "),u={class:"p-3"},O=l(()=>Object(o["createElementVNode"])("br",null,null,-1)),m=l(()=>Object(o["createElementVNode"])("br",null,null,-1)),w=l(()=>Object(o["createElementVNode"])("br",null,null,-1)),h={key:0},y=l(()=>Object(o["createElementVNode"])("br",null,null,-1)),x=l(()=>Object(o["createElementVNode"])("br",null,null,-1)),N={key:1,class:"flex justify-content-between"},f={key:2},V=l(()=>Object(o["createElementVNode"])("h3",null,"Data Lineage",-1)),v=l(()=>Object(o["createElementVNode"])("h3",null,"Downloads history",-1));function g(e,t,a,l,g,C){const D=Object(o["resolveComponent"])("Button"),k=Object(o["resolveComponent"])("InputText"),E=Object(o["resolveComponent"])("Column"),_=Object(o["resolveComponent"])("DataTable"),S=Object(o["resolveComponent"])("DataLineage"),T=Object(o["resolveComponent"])("Dialog"),L=Object(o["resolveComponent"])("Chart");return Object(o["openBlock"])(),Object(o["createElementBlock"])("div",c,[Object(o["createElementVNode"])("div",d,[Object(o["createElementVNode"])("div",n,[i,Object(o["createVNode"])(_,{value:g.dataProducts,expandedRows:g.expandedRows,"onUpdate:expandedRows":t[1]||(t[1]=e=>g.expandedRows=e),dataKey:"_id",responsiveLayout:"scroll",paginator:!0,rows:10,rowHover:!0,filters:g.filters1,"onUpdate:filters":t[2]||(t[2]=e=>g.filters1=e),filterDisplay:"menu",loading:g.loading1,globalFilterFields:["name"]},{header:Object(o["withCtx"])(()=>[Object(o["createElementVNode"])("div",r,[Object(o["createVNode"])(D,{icon:"pi pi-minus",label:"Collapse All",onClick:C.collapseAll,class:"mb-2"},null,8,["onClick"]),Object(o["createElementVNode"])("span",s,[b,Object(o["createVNode"])(k,{modelValue:g.filters1["global"].value,"onUpdate:modelValue":t[0]||(t[0]=e=>g.filters1["global"].value=e),placeholder:"Keyword Search",style:{width:"100%"}},null,8,["modelValue"])])])]),empty:Object(o["withCtx"])(()=>[p]),loading:Object(o["withCtx"])(()=>[j]),expansion:Object(o["withCtx"])(e=>[Object(o["createElementVNode"])("div",u,[Object(o["createTextVNode"])(Object(o["toDisplayString"])(e.data.description)+" ",1),O,m,Object(o["createTextVNode"])(" Date creation : "+Object(o["toDisplayString"])(e.data.dateCreation)+" ",1),w,e.data.dataAvailable?(Object(o["openBlock"])(),Object(o["createElementBlock"])("div",h,[Object(o["createTextVNode"])(" Volume : "+Object(o["toDisplayString"])(e.data.formatData/1024)+" ko ",1),y,Object(o["createTextVNode"])(" Date Maj : "+Object(o["toDisplayString"])(e.data.derniereMAJ),1)])):Object(o["createCommentVNode"])("",!0),x,e.data.dataAvailable||e.data.isExternal?(Object(o["openBlock"])(),Object(o["createElementBlock"])("div",N,[Object(o["createElementVNode"])("div",null,"Lien : "+Object(o["toDisplayString"])(C.download_link(e.data)),1),Object(o["createVNode"])(D,{label:"copy",class:"pi pi-copy",onClick:()=>{C.copyURL(C.download_link(e.data))}},null,8,["onClick"])])):(Object(o["openBlock"])(),Object(o["createElementBlock"])("div",f,"No data available")),Object(o["createElementVNode"])("div",null,[Object(o["createVNode"])(D,{label:"Data Lineage",onClick:()=>{g.dp_id=e.data._id,g.displayDataLineage=!0}},null,8,["onClick"]),Object(o["createVNode"])(D,{label:"Download History",onClick:()=>{g.downloads=e.data.downloads,g.displayDownloads=!0},style:{"margin-left":"0.5em"}},null,8,["onClick"])])])]),default:Object(o["withCtx"])(()=>[Object(o["createVNode"])(E,{expander:!0,headerStyle:"width: 3rem"}),Object(o["createVNode"])(E,{field:"nom",header:"Name",sortable:!0},{body:Object(o["withCtx"])(e=>[Object(o["createTextVNode"])(Object(o["toDisplayString"])(e.data.nom),1)]),_:1}),Object(o["createVNode"])(E,{field:"owner.nom",header:"Acteur",sortable:!0},{body:Object(o["withCtx"])(e=>[Object(o["createTextVNode"])(Object(o["toDisplayString"])(e.data.owner.nom),1)]),_:1}),Object(o["createVNode"])(E,{field:"formatData",header:"Format",sortable:!0},{body:Object(o["withCtx"])(e=>[Object(o["createTextVNode"])(Object(o["toDisplayString"])(e.data.formatData),1)]),_:1})]),_:1},8,["value","expandedRows","filters","loading"]),Object(o["createVNode"])(T,{visible:g.displayDataLineage,"onUpdate:visible":t[4]||(t[4]=e=>g.displayDataLineage=e),modal:!0,breakpoints:{"960px":"75vw","640px":"90vw"},style:{width:"50vw"}},{header:Object(o["withCtx"])(()=>[V]),footer:Object(o["withCtx"])(()=>[Object(o["createVNode"])(D,{label:"Hide",icon:"pi pi-times",class:"p-button-text",onClick:t[3]||(t[3]=()=>{g.displayDataLineage=!1})})]),default:Object(o["withCtx"])(()=>[Object(o["createVNode"])(S,{dp:g.dp_id},null,8,["dp"])]),_:1},8,["visible"]),Object(o["createVNode"])(T,{visible:g.displayDownloads,"onUpdate:visible":t[6]||(t[6]=e=>g.displayDownloads=e),modal:!0,breakpoints:{"960px":"75vw","640px":"90vw"},style:{width:"50vw"}},{header:Object(o["withCtx"])(()=>[v]),footer:Object(o["withCtx"])(()=>[Object(o["createVNode"])(D,{label:"Hide",icon:"pi pi-times",class:"p-button-text",onClick:t[5]||(t[5]=()=>{g.displayDownloads=!1})})]),default:Object(o["withCtx"])(()=>[Object(o["createVNode"])(L,{type:"line",data:C.download_history,options:g.options},null,8,["data","options"])]),_:1},8,["visible"])])])])}var C=a("0393"),D=a("bc3a"),k=a.n(D),E=a("c847"),_={data(){return{filters1:null,loading1:!0,dataProducts:null,expandedRows:[],dp_id:"",downloads:[],displayDataLineage:!1,displayDownloads:!1,options:{plugins:{legend:{labels:{color:"#495057"}}},scales:{x:{ticks:{color:"#495057"},grid:{color:"#ebedef"}},y:{ticks:{color:"#495057"},grid:{color:"#ebedef"}}}}}},created(){this.initFilters1(),k()({method:"get",url:"http://ec2-54-161-217-174.compute-1.amazonaws.com:3000/dp/get-dps"}).then(e=>{this.dataProducts=e.data.dataProducts,this.loading1=!1}).catch(e=>console.log(e))},methods:{initFilters1(){this.filters1={global:{value:null,matchMode:C["a"].CONTAINS},name:{operator:C["b"].AND,constraints:[{value:null,matchMode:C["a"].STARTS_WITH}]}}},clearFilter1(){this.initFilters1()},expandAll(){this.expandedRows=this.products.filter(e=>e.id)},collapseAll(){this.expandedRows=null},formatDate(e){return e.toLocaleDateString("en-US",{day:"2-digit",month:"2-digit",year:"numeric"})},download_link(e){return`http://ec2-54-161-217-174.compute-1.amazonaws.com:3000/data/${e._id}/get_data`},async copyURL(e){try{await navigator.clipboard.writeText(e)}catch(t){alert("Cannot copy")}}},computed:{download_history(){if(this.downloads){let e=Date.now()-6048e5,t=[0,0,0,0,0,0,0];return this.downloads.map(e=>Date.parse(e)).filter(t=>t>=e).map(t=>Math.floor((t-e)/864e5)).forEach(e=>{t[e]+=1}),{labels:["j-7","j-6","j-5","j-4","j-3","j-2","j-1"],datasets:[{label:"Downloads",data:t,fill:!1,borderColor:"#42A5F5",tension:.4}]}}return null}},components:{DataLineage:E["a"]}},S=(a("2c05"),a("6b0d")),T=a.n(S);const L=T()(_,[["render",g],["__scopeId","data-v-57080df4"]]);t["default"]=L},ca31:function(e,t,a){}}]);
//# sourceMappingURL=chunk-92aae4a8.f4cf7946.js.map